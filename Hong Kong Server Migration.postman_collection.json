{
	"info": {
		"_postman_id": "f1b885e7-6d5b-44ec-bef7-996a5a898eef",
		"name": "Hong Kong Server Migration",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "OTV L2 Vlan Migration",
			"item": [
				{
					"name": "1) MSO step",
					"item": [
						{
							"name": "Template Level",
							"item": [
								{
									"name": "MSO-Login MSO",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);",
													"postman.setEnvironmentVariable(\"token\", data.token);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"username\": \"{{MSO_USERNAME}}\",\n    \"password\": \"{{MSO_PASSWORD}}\",\n    \"domaonId\": \"\"\n}"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA) {",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_Bridge_Domain_to_Template01",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/templates/{{TEMPLATE}}/bds/-\",\n        \"value\": {\n            \"name\": \"{{BRIDGEDOMAIN_NAME}}\",\n            \"displayName\": \"{{BRIDGEDOMAIN_NAME}}\",\n            \"bdRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"bdName\": \"{{BRIDGEDOMAIN_NAME}}\"\n            },\n            \"l2UnknownUnicast\": \"flood\",\n            \"intersiteBumTrafficAllow\": true,\n            \"optimizeWanBandwidth\": true,\n            \"l2Stretch\": true,\n            \"dhcpLabel\": null,\n            \"subnets\": [],\n            \"vrfRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{VRF_TEMPLATE}}\",\n                \"vrfName\": \"{{MAIN_VRF_NAME}}\"\n            }\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_End_Point_Group_to_Template01",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/templates/{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"name\": \"{{EPG_NAME}}\",\n            \"displayName\": \"{{EPG_NAME}}\",\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            },\n            \"intraEpg\": \"unenforced\",\n            \"proxyArp\": false,\n            \"preferredGroup\": false,\n            \"bdRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"bdName\": \"{{BRIDGEDOMAIN_NAME}}\"\n            },\n            \"selectors\": []\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								}
							]
						},
						{
							"name": "Site A Level",
							"item": [
								{
									"name": "MSO-Login MSO",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);",
													"postman.setEnvironmentVariable(\"token\", data.token);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"username\": \"{{MSO_USERNAME}}\",\n    \"password\": \"{{MSO_PASSWORD}}\",\n    \"domaonId\": \"\"\n}"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA) {",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_SITE_A_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.sites.length; i++) {",
													"    if (body.sites[i].name == data.SITE_A_NAME) {",
													"        postman.setEnvironmentVariable('SITE_A_ID', body.sites[i].id);",
													"    }",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"sites"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Associate_AppProfile_to_SiteA",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/-\",\n        \"value\": {\n            \"anpRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\"\n            }\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Associate_Epg_to_Site_A",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            }\n        }\n    }\n]\n\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO-Add_Physical_Domain_to_EPG_SiteA",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/domainAssociations/-\",\n        \"value\": {\n            \"dn\": \"uni/phys-{{PHYDOM_NAME}}\",\n            \"domainType\": \"physicalDomain\",\n            \"deployImmediacy\": \"immediate\",\n            \"resolutionImmediacy\": \"immediate\",\n            \"deploymentImmediacy\": \"immediate\"\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_EPG_static_ports_to_VPC_links_SiteA",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"vpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/protpaths-{{NODE_ID_RANGE}}/pathep-[{{VPCA}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B Level",
							"item": [
								{
									"name": "MSO-Login MSO",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);",
													"postman.setEnvironmentVariable(\"token\", data.token);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"username\": \"{{MSO_USERNAME}}\",\n    \"password\": \"{{MSO_PASSWORD}}\",\n    \"domaonId\": \"\"\n}"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA) {",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_SITE_B_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.sites.length; i++) {",
													"    if (body.sites[i].name == data.SITE_B_NAME) {",
													"        postman.setEnvironmentVariable('SITE_B_ID', body.sites[i].id);",
													"    }",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"sites"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Associate AppProfile_to_SiteB",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/-\",\n        \"value\": {\n            \"anpRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\"\n            }\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Associate_Epg_to_Site_B",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            }\n        }\n    }\n]\n\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO-Add_Physical_Domain_to_EPG_SiteB",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/domainAssociations/-\",\n        \"value\": {\n            \"dn\": \"uni/phys-{{PHYDOM_NAME}}\",\n            \"domainType\": \"physicalDomain\",\n            \"deployImmediacy\": \"immediate\",\n            \"resolutionImmediacy\": \"immediate\",\n            \"deploymentImmediacy\": \"immediate\"\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_EPG_static_ports_to_VPC_links_SiteB",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"vpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/protpaths-{{NODE_ID_RANGE}}/pathep-[{{VPCB}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "2) APIC step",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "APIC-Login_Site_A",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<aaaUser name={{SITE_A_USERNAME}} pwd={{SITE_A_PASSWORD}}/>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/mo/aaaLogin.xml",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"mo",
												"aaaLogin.xml"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Bridge_Domain_Alias_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvBD\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}\",\n            \"nameAlias\": \"{{BRIDGEDOMAIN_ALIAS}}\",\n            \"unicastRoute\": \"false\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"BD-{{BRIDGEDOMAIN_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_End_Point_Group_Alias_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAEPg\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}\",\n            \"nameAlias\": \"{{EPG_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}",
												"epg-{{EPG_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Application_Profile_Alias_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAp\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}\",\n            \"nameAlias\": \"{{APP_PROF_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Vlan_to_Vlan_Pool_Site_A",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<polUni>\n    <infraInfra ownerKey=\"\" ownerTag=\"\">\n        <fvnsVlanInstP allocMode=\"static\" name=\"{{VLAN_POOL_NAME}}\" descr=\"\" nameAlias=\"\" >\n            <fvnsEncapBlk allocMode=\"inherit\" descr=\"\" from=\"vlan-{{VLAN_ID}}\" name=\"\" nameAlias=\"\" role=\"external\" to=\"vlan-{{VLAN_ID}}\"/>\n        </fvnsVlanInstP>\n    </infraInfra>\n</polUni>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.xml",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.xml"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_IGMP_Snooping_Policy_to_BD_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvRsIgmpsn\": {\n        \"attributes\": {\n            \"tnIgmpSnoopPolName\": \"IGMP_SNOOPING\",\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}/rsigmpsn\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "APIC-Login_Site_B",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<aaaUser name={{SITE_B_USERNAME}} pwd={{SITE_B_PASSWORD}}/>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/mo/aaaLogin.xml",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"mo",
												"aaaLogin.xml"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Bridge_Domain_Alias_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvBD\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}\",\n            \"nameAlias\": \"{{BRIDGEDOMAIN_ALIAS}}\",\n            \"unicastRoute\": \"false\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"BD-{{BRIDGEDOMAIN_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_End_Point_Group_Alias_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAEPg\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}\",\n            \"nameAlias\": \"{{EPG_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}",
												"epg-{{EPG_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Application_Profile_Alias_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAp\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}\",\n            \"nameAlias\": \"{{APP_PROF_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Vlan_to_Vlan_Pool_Site_B",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<polUni>\r\n    <infraInfra ownerKey=\"\" ownerTag=\"\">\r\n        <fvnsVlanInstP allocMode=\"static\" name=\"{{VLAN_POOL_NAME}}\" descr=\"\" nameAlias=\"\" >\r\n            <fvnsEncapBlk allocMode=\"inherit\" descr=\"\" from=\"vlan-{{VLAN_ID}}\" name=\"\" nameAlias=\"\" role=\"external\" to=\"vlan-{{VLAN_ID}}\"/>\r\n        </fvnsVlanInstP>\r\n    </infraInfra>\r\n</polUni>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.xml",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.xml"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_IGMP_Snooping_Policy_to_BD_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvRsIgmpsn\": {\n        \"attributes\": {\n            \"tnIgmpSnoopPolName\": \"IGMP_SNOOPING\",\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}/rsigmpsn\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Create new L2 BD/EPG (if needed)",
			"item": [
				{
					"name": "1) MSO step",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "MSO-Login MSO",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);",
													"postman.setEnvironmentVariable(\"token\", data.token);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"username\": \"{{MSO_USERNAME}}\",\n    \"password\": \"{{MSO_PASSWORD}}\",\n    \"domaonId\": \"\"\n}"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema1_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA1) {",
													"        postman.setEnvironmentVariable('SCHEMA1_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA) {",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_Bridge_Domain_to_Template",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/templates/{{TEMPLATE}}/bds/-\",\n        \"value\": {\n            \"name\": \"{{BRIDGEDOMAIN_NAME}}\",\n            \"displayName\": \"{{BRIDGEDOMAIN_NAME}}\",\n            \"bdRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"bdName\": \"{{BRIDGEDOMAIN_NAME}}\"\n            },\n            \"l2UnknownUnicast\": \"flood\",\n            \"l2Stretch\": false,\n            \"dhcpLabel\": null,\n            \"subnets\": [],\n            \"vrfRef\": {\n                \"schemaId\": \"{{SCHEMA1_ID}}\",\n                \"templateName\": \"{{VRF_TEMPLATE}}\",\n                \"vrfName\": \"{{MAIN_VRF_NAME}}\"\n            },\n            \"unicastRouting\": false\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_End_Point_Group_to_Template",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/templates/{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"name\": \"{{EPG_NAME}}\",\n            \"displayName\": \"{{EPG_NAME}}\",\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            },\n            \"intraEpg\": \"unenforced\",\n            \"proxyArp\": false,\n            \"preferredGroup\": false,\n            \"bdRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"bdName\": \"{{BRIDGEDOMAIN_NAME}}\"\n            },\n            \"selectors\": []\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_SITE_A_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.sites.length; i++) {",
													"    if (body.sites[i].name == data.SITE_A_NAME) {",
													"        postman.setEnvironmentVariable('SITE_A_ID', body.sites[i].id);",
													"    }",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"sites"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Associate_Epg_to_Site_A",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            }\n        }\n    }\n]\n\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO-Add_Physical_Domain_to_EPG_SiteA",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/domainAssociations/-\",\n        \"value\": {\n            \"dn\": \"uni/phys-{{PHYDOM_NAME}}\",\n            \"domainType\": \"physicalDomain\",\n            \"deployImmediacy\": \"immediate\",\n            \"resolutionImmediacy\": \"immediate\",\n            \"deploymentImmediacy\": \"immediate\"\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_EPG_static_ports_to_VPC_links_SiteA",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"vpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/protpaths-{{NODE_ID_RANGE}}/pathep-[{{VPCA}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO-Check_Health",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/execute/health",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"execute",
												"health"
											]
										},
										"description": "Login"
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "MSO-Login MSO",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);",
													"postman.setEnvironmentVariable(\"token\", data.token);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"username\": \"{{MSO_USERNAME}}\",\n    \"password\": \"{{MSO_PASSWORD}}\",\n    \"domaonId\": \"\"\n}"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema1_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA1) {",
													"        postman.setEnvironmentVariable('SCHEMA1_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_Schema_id",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.schemas.length; i++) {",
													"    if (body.schemas[i].displayName == data.SCHEMA) {",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);",
													"    }",
													"}",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_Bridge_Domain_to_Template",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/templates/{{TEMPLATE}}/bds/-\",\n        \"value\": {\n            \"name\": \"{{BRIDGEDOMAIN_NAME}}\",\n            \"displayName\": \"{{BRIDGEDOMAIN_NAME}}\",\n            \"bdRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"bdName\": \"{{BRIDGEDOMAIN_NAME}}\"\n            },\n            \"l2UnknownUnicast\": \"flood\",\n            \"l2Stretch\": false,\n            \"dhcpLabel\": null,\n            \"subnets\": [],\n            \"vrfRef\": {\n                \"schemaId\": \"{{SCHEMA1_ID}}\",\n                \"templateName\": \"{{VRF_TEMPLATE}}\",\n                \"vrfName\": \"{{MAIN_VRF_NAME}}\"\n            },\n            \"unicastRouting\": false\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_End_Point_Group_to_Template",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/templates/{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"name\": \"{{EPG_NAME}}\",\n            \"displayName\": \"{{EPG_NAME}}\",\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            },\n            \"intraEpg\": \"unenforced\",\n            \"proxyArp\": false,\n            \"preferredGroup\": false,\n            \"bdRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"bdName\": \"{{BRIDGEDOMAIN_NAME}}\"\n            },\n            \"selectors\": []\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-GET_SITE_B_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);",
													"for (var i = 0; i < body.sites.length; i++) {",
													"    if (body.sites[i].name == data.SITE_B_NAME) {",
													"        postman.setEnvironmentVariable('SITE_B_ID', body.sites[i].id);",
													"    }",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"sites"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Associate_Epg_to_Site_B",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/-\",\n        \"value\": {\n            \"epgRef\": {\n                \"schemaId\": \"{{SCHEMA_ID}}\",\n                \"templateName\": \"{{TEMPLATE}}\",\n                \"anpName\": \"{{APP_PROF_NAME}}\",\n                \"epgName\": \"{{EPG_NAME}}\"\n            }\n        }\n    }\n]\n\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO-Add_Physical_Domain_to_EPG_SiteB",
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/domainAssociations/-\",\n        \"value\": {\n            \"dn\": \"uni/phys-{{PHYDOM_NAME}}\",\n            \"domainType\": \"physicalDomain\",\n            \"deployImmediacy\": \"immediate\",\n            \"resolutionImmediacy\": \"immediate\",\n            \"deploymentImmediacy\": \"immediate\"\n        }\n    }\n]"
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "MSO-Add_EPG_static_ports_to_VPC_links_SiteB",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"vpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/protpaths-{{NODE_ID_RANGE}}/pathep-[{{VPCB}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO-Check_Health",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/execute/health",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"execute",
												"health"
											]
										},
										"description": "Login"
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "2) APIC step",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "APIC-Login_Site_A",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<aaaUser name={{SITE_A_USERNAME}} pwd={{SITE_A_PASSWORD}}/>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/mo/aaaLogin.xml",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"mo",
												"aaaLogin.xml"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Bridge_Domain_Alias_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvBD\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}\",\n            \"nameAlias\": \"{{BRIDGEDOMAIN_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"BD-{{BRIDGEDOMAIN_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_End_Point_Group_Alias_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAEPg\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}\",\n            \"nameAlias\": \"{{EPG_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}",
												"epg-{{EPG_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Application_Profile_Alias_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAp\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}\",\n            \"nameAlias\": \"{{APP_PROF_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Vlan_to_Vlan_Pool_Site_A",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<polUni>\n    <infraInfra ownerKey=\"\" ownerTag=\"\">\n        <fvnsVlanInstP allocMode=\"static\" name=\"{{VLAN_POOL_NAME}}\" descr=\"\" nameAlias=\"\" >\n            <fvnsEncapBlk allocMode=\"static\" descr=\"\" from=\"vlan-{{VLAN_ID}}\" name=\"\" nameAlias=\"\" role=\"external\" to=\"vlan-{{VLAN_ID}}\"/>\n        </fvnsVlanInstP>\n    </infraInfra>\n</polUni>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.xml",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.xml"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_IGMP_Snooping_Policy_to_BD_Site_A",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvRsIgmpsn\": {\n        \"attributes\": {\n            \"tnIgmpSnoopPolName\": \"IGMP_SNOOPING\",\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}/rsigmpsn\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "APIC-Login_Site_B",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<aaaUser name={{SITE_B_USERNAME}} pwd={{SITE_B_PASSWORD}}/>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/mo/aaaLogin.xml",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"mo",
												"aaaLogin.xml"
											]
										},
										"description": "Login"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Bridge_Domain_Alias_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvBD\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}\",\n            \"nameAlias\": \"{{BRIDGEDOMAIN_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"BD-{{BRIDGEDOMAIN_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_End_Point_Group_Alias_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAEPg\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}\",\n            \"nameAlias\": \"{{EPG_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}/epg-{{EPG_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}",
												"epg-{{EPG_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Application_Profile_Alias_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvAp\": {\n        \"attributes\": {\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}\",\n            \"nameAlias\": \"{{APP_PROF_ALIAS}}\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni/tn-{{TENANT_NAME}}/ap-{{APP_PROF_NAME}}.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni",
												"tn-{{TENANT_NAME}}",
												"ap-{{APP_PROF_NAME}}.json"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_Vlan_to_Vlan_Pool_Site_B",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "<polUni>\r\n    <infraInfra ownerKey=\"\" ownerTag=\"\">\r\n        <fvnsVlanInstP allocMode=\"static\" name=\"{{VLAN_POOL_NAME}}\" descr=\"\" nameAlias=\"\" >\r\n            <fvnsEncapBlk allocMode=\"static\" descr=\"\" from=\"vlan-{{VLAN_ID}}\" name=\"\" nameAlias=\"\" role=\"external\" to=\"vlan-{{VLAN_ID}}\"/>\r\n        </fvnsVlanInstP>\r\n    </infraInfra>\r\n</polUni>",
											"options": {
												"raw": {
													"language": "xml"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.xml",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.xml"
											]
										},
										"description": "Create BD"
									},
									"response": []
								},
								{
									"name": "APIC-Add_IGMP_Snooping_Policy_to_BD_Site_B",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fvRsIgmpsn\": {\n        \"attributes\": {\n            \"tnIgmpSnoopPolName\": \"IGMP_SNOOPING\",\n            \"dn\": \"uni/tn-{{TENANT_NAME}}/BD-{{BRIDGEDOMAIN_NAME}}/rsigmpsn\"\n        },\n        \"children\": []\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Normal L2 Port",
			"item": [
				{
					"name": "1) APIC Fabric Access Policy",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "Site A - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_A_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_A_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site A -  APIC - Create Access Port Selector",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"infraHPortS\": {\n        \"attributes\": {\n            \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n            \"dn\": \"uni/infra/accportprof-{{INTERFACEPROFILE_NAME}}/hports-{{ACCESSPORT_SELECTOR_NAME}}-typ-range\",\n            \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n            \"type\": \"range\"\n        },\n        \"children\": [\n            {\n                \"infraRsAccBaseGrp\": {\n                    \"attributes\": {\n                        \"tDn\": \"uni/infra/funcprof/accportgrp-{{ACCESSPORT_POLICYGROUP_NAME}}\"\n                    }\n                }\n            },\n            {\n                \"infraPortBlk\": {\n                    \"attributes\": {\n                        \"descr\": \"{{INTERFACE_DESC}}\",\n                        \"fromCard\": \"1\",\n                        \"fromPort\": \"{{PORT}}\",\n                        \"name\": \"block1{{PORT}}\",\n                        \"toCard\": \"1\",\n                        \"toPort\": \"{{PORT}}\"\n                    }\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "Site B - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_B_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_B_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site B -  APIC - Create Access Port Selector",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"infraHPortS\": {\n        \"attributes\": {\n            \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n            \"dn\": \"uni/infra/accportprof-{{INTERFACEPROFILE_NAME}}/hports-{{ACCESSPORT_SELECTOR_NAME}}-typ-range\",\n            \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n            \"type\": \"range\"\n        },\n        \"children\": [\n            {\n                \"infraRsAccBaseGrp\": {\n                    \"attributes\": {\n                        \"tDn\": \"uni/infra/funcprof/accportgrp-{{ACCESSPORT_POLICYGROUP_NAME}}\"\n                    }\n                }\n            },\n            {\n                \"infraPortBlk\": {\n                    \"attributes\": {\n                        \"descr\": \"{{INTERFACE_DESC}}\",\n                        \"fromCard\": \"1\",\n                        \"fromPort\": \"{{PORT}}\",\n                        \"name\": \"block1{{PORT}}\",\n                        \"toCard\": \"1\",\n                        \"toPort\": \"{{PORT}}\"\n                    }\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "2) MSO Add EPG static ports",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "MSO login",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"token\", data.token)\r",
													"    ;"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"username\": \"{{MSO_USERNAME}}\",\r\n    \"password\": \"{{MSO_PASSWORD}}\",\r\n    \"domaodId\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Site A ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.sites.length; i++) {\r",
													"    if (body.sites[i].name == data.SITE_A_NAME) {\r",
													"        postman.setEnvironmentVariable('SITE_A_ID', body.sites[i].id);\r",
													"    }\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/mso/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"mso",
												"api",
												"v1",
												"sites"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Schema ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.schemas.length; i++) {\r",
													"    if (body.schemas[i].displayName == data.SCHEMA) {\r",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);\r",
													"    }\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - Add EPG static ports (non-VPC/Po) in Site A",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"port\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"pod\": \"topology/pod-{{POD_ID}}\",\n            \"leaf\": \"topology/pod-{{POD_ID}}/node-{{NODE_ID}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/paths-{{NODE_ID}}/pathep-[eth1/{{PORT}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "MSO login",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"token\", data.token)\r",
													"    ;"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"username\": \"{{MSO_USERNAME}}\",\r\n    \"password\": \"{{MSO_PASSWORD}}\",\r\n    \"domaodId\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Site B ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.sites.length; i++) {\r",
													"    if (body.sites[i].name == data.SITE_B_NAME) {\r",
													"        postman.setEnvironmentVariable('SITE_B_ID', body.sites[i].id);\r",
													"    }\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/mso/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"mso",
												"api",
												"v1",
												"sites"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Schema ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.schemas.length; i++) {\r",
													"    if (body.schemas[i].displayName == data.SCHEMA) {\r",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);\r",
													"    }\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - Add EPG static ports (non-VPC/Po) in Site B",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"port\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"pod\": \"topology/pod-{{POD_ID}}\",\n            \"leaf\": \"topology/pod-{{POD_ID}}/node-{{NODE_ID}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/paths-{{NODE_ID}}/pathep-[eth1/{{PORT}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "VPC Port",
			"item": [
				{
					"name": "1) APIC - Create VPC domain",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "Site A - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_A_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_A_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site A - APIC - Create VPC domain",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"fabricProtPol\": {\r\n\t\t\"attributes\": {\r\n\t\t\t\"dn\": \"uni/fabric/protpol\",\r\n\t\t\t\"name\": \"default\",\r\n\t\t\t\"pairT\": \"explicit\"\r\n\t\t},\r\n\t\t\"children\": [{\r\n\t\t\t\"fabricExplicitGEp\": {\r\n\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\"id\": \"{{VPC_ID}}\",\r\n\t\t\t\t\t\"name\": \"{{VPC_DOMAIN_NAME}}\"\r\n\t\t\t\t},\r\n\t\t\t\t\"children\": [{\r\n\t\t\t\t\t\"fabricRsVpcInstPol\": {\r\n\t\t\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\t\t\"tnVpcInstPolName\": \"default\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"fabricNodePEp\": {\r\n\t\t\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\t\t\"id\": \"{{NODE1_ID}}\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"fabricNodePEp\": {\r\n\t\t\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\t\t\"id\": \"{{NODE2_ID}}\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "Site B - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_B_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_B_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site B - APIC - Create VPC domain",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n\t\"fabricProtPol\": {\r\n\t\t\"attributes\": {\r\n\t\t\t\"dn\": \"uni/fabric/protpol\",\r\n\t\t\t\"name\": \"default\",\r\n\t\t\t\"pairT\": \"explicit\"\r\n\t\t},\r\n\t\t\"children\": [{\r\n\t\t\t\"fabricExplicitGEp\": {\r\n\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\"id\": \"{{VPC_ID}}\",\r\n\t\t\t\t\t\"name\": \"{{VPC_DOMAIN_NAME}}\"\r\n\t\t\t\t},\r\n\t\t\t\t\"children\": [{\r\n\t\t\t\t\t\"fabricRsVpcInstPol\": {\r\n\t\t\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\t\t\"tnVpcInstPolName\": \"default\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"fabricNodePEp\": {\r\n\t\t\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\t\t\"id\": \"{{NODE1_ID}}\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"fabricNodePEp\": {\r\n\t\t\t\t\t\t\"attributes\": {\r\n\t\t\t\t\t\t\t\"id\": \"{{NODE2_ID}}\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t}]\r\n\t}\r\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "2) APIC - VPC Access Policy",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "Site A - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_A_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_A_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site A - APIC - VPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE1_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR1_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR1_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{VPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{NODE1_PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{NODE1_PORT1}}\",\n                                                            \"name\": \"block1{{NODE1_PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{NODE1_PORT1}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE2_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR2_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR2_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{VPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{NODE2_PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{NODE2_PORT1}}\",\n                                                            \"name\": \"block1{{NODE2_PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{NODE2_PORT1}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{VPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"lagT\": \"node\",\n                                                \"name\": \"{{VPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "Site B - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_B_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_B_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site B - APIC - VPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE1_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR1_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR1_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{VPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{NODE1_PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{NODE1_PORT1}}\",\n                                                            \"name\": \"block1{{NODE1_PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{NODE1_PORT1}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE2_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR2_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR2_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{VPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{NODE2_PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{NODE2_PORT1}}\",\n                                                            \"name\": \"block1{{NODE2_PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{NODE2_PORT1}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{VPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"lagT\": \"node\",\n                                                \"name\": \"{{VPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "3) MSO - Add EPG in VPC links",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "MSO login",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"token\", data.token)\r",
													"    ;"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"username\": \"{{MSO_USERNAME}}\",\r\n    \"password\": \"{{MSO_PASSWORD}}\",\r\n    \"domaodId\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Site A ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.sites.length; i++) {\r",
													"    if (body.sites[i].name == data.SITE_A_NAME) {\r",
													"        postman.setEnvironmentVariable('SITE_A_ID', body.sites[i].id);\r",
													"    }\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/mso/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"mso",
												"api",
												"v1",
												"sites"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Schema ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.schemas.length; i++) {\r",
													"    if (body.schemas[i].displayName == data.SCHEMA) {\r",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);\r",
													"    }\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - Add EPG static ports in VPC link (Site A)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"vpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/protpaths-{{NODE_ID_RANGE}}/pathep-[{{VPC}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "MSO login",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"token\", data.token)\r",
													"    ;"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"username\": \"{{MSO_USERNAME}}\",\r\n    \"password\": \"{{MSO_PASSWORD}}\",\r\n    \"domaodId\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Site B ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.sites.length; i++) {\r",
													"    if (body.sites[i].name == data.SITE_B_NAME) {\r",
													"        postman.setEnvironmentVariable('SITE_B_ID', body.sites[i].id);\r",
													"    }\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/mso/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"mso",
												"api",
												"v1",
												"sites"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Schema ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.schemas.length; i++) {\r",
													"    if (body.schemas[i].displayName == data.SCHEMA) {\r",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);\r",
													"    }\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/list-identity",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"list-identity"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - Add EPG static ports in VPC link (Site B)",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"vpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/protpaths-{{NODE_ID_RANGE}}/pathep-[{{VPC}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "DPC Port",
			"item": [
				{
					"name": "1) APIC - DPC Access Policy for 1 link",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "Site A - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_A_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_A_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site A - APIC - DPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{DPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT1}}\",\n                                                            \"name\": \"block1{{PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT1}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{DPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"name\": \"{{DPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "Site B - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_B_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_B_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site B - APIC - DPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{DPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT1}}\",\n                                                            \"name\": \"block1{{PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT1}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{DPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"name\": \"{{DPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "1) APIC - DPC Access Policy for 2 links",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "Site A - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_A_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_A_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site A - APIC - DPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{DPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT1}}\",\n                                                            \"name\": \"block1{{PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT1}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT2_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT2}}\",\n                                                            \"name\": \"block1{{PORT2}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT2}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{DPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"name\": \"{{DPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "Site B - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_B_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_B_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site B - APIC - DPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{DPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT1}}\",\n                                                            \"name\": \"block1{{PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT1}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT2_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT2}}\",\n                                                            \"name\": \"block1{{PORT2}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT2}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{DPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"name\": \"{{DPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "1) APIC - DPC Access Policy for 4 links",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "Site A - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_A_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_A_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site A - APIC - DPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{DPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT1}}\",\n                                                            \"name\": \"block1{{PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT1}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT2_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT2}}\",\n                                                            \"name\": \"block1{{PORT2}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT2}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT3_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT3}}\",\n                                                            \"name\": \"block1{{PORT3}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT3}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT4_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT4}}\",\n                                                            \"name\": \"block1{{PORT4}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT4}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{DPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"name\": \"{{DPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_A_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_A_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "Site B - APIC login",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"aaaUser\": {\r\n        \"attributes\": {\r\n            \"name\": \"{{SITE_B_USERNAME}}\",\r\n            \"pwd\": \"{{SITE_B_PASSWORD}}\"\r\n        }\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/aaaLogin.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"aaaLogin.json"
											]
										}
									},
									"response": []
								},
								{
									"name": "Site B - APIC - DPC access policy",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"polUni\": {\n        \"attributes\": {\n            \"dn\": \"uni\"\n        },\n        \"children\": [\n            {\n                \"infraInfra\": {\n                    \"attributes\": {},\n                    \"children\": [\n                        {\n                            \"infraAccPortP\": {\n                                \"attributes\": {\n                                    \"name\": \"{{INTERFACEPROFILE_NAME}}\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraHPortS\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{ACCESSPORT_SELECTOR_NAME_DESC}}\",\n                                                \"name\": \"{{ACCESSPORT_SELECTOR_NAME}}\",\n                                                \"type\": \"range\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsAccBaseGrp\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/funcprof/accbundle-{{DPC_POLICYGROUP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT1_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT1}}\",\n                                                            \"name\": \"block1{{PORT1}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT1}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT2_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT2}}\",\n                                                            \"name\": \"block1{{PORT2}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT2}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT3_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT3}}\",\n                                                            \"name\": \"block1{{PORT3}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT3}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraPortBlk\": {\n                                                        \"attributes\": {\n                                                            \"descr\": \"{{PORT4_DESC}}\",\n                                                            \"fromCard\": \"1\",\n                                                            \"fromPort\": \"{{PORT4}}\",\n                                                            \"name\": \"block1{{PORT4}}\",\n                                                            \"toCard\": \"1\",\n                                                            \"toPort\": \"{{PORT4}}\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"infraFuncP\": {\n                                \"attributes\": {\n                                    \"name\": \"default\"\n                                },\n                                \"children\": [\n                                    {\n                                        \"infraAccBndlGrp\": {\n                                            \"attributes\": {\n                                                \"descr\": \"{{DPC_POLICYGROUP_NAME_DESC}}\",\n                                                \"name\": \"{{DPC_POLICYGROUP_NAME}}\"\n                                            },\n                                            \"children\": [\n                                                {\n                                                    \"infraRsHIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnFabricHIfPolName\": \"{{LINK_LEVEL_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsAttEntP\": {\n                                                        \"attributes\": {\n                                                            \"tDn\": \"uni/infra/attentp-{{AEP_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLacpPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLacpLagPolName\": \"{{LACP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsCdpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnCdpIfPolName\": \"CdpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsMcpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnMcpIfPolName\": \"MCP_Enable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsLldpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnLldpIfPolName\": \"LldpEnable\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsStpIfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnStpIfPolName\": \"{{STP_POLICY_NAME}}\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"infraRsL2IfPol\": {\n                                                        \"attributes\": {\n                                                            \"tnL2IfPolName\": \"default\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}"
										},
										"url": {
											"raw": "https://{{SITE_B_APIC_1_IP}}/api/node/mo/uni.json",
											"protocol": "https",
											"host": [
												"{{SITE_B_APIC_1_IP}}"
											],
											"path": [
												"api",
												"node",
												"mo",
												"uni.json"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "2) MSO - Add EPG in DPC links",
					"item": [
						{
							"name": "Site A",
							"item": [
								{
									"name": "MSO login",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"token\", data.token)\r",
													"    ;"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"username\": \"{{MSO_USERNAME}}\",\r\n    \"password\": \"{{MSO_PASSWORD}}\",\r\n    \"domaodId\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Site A ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.sites.length; i++) {\r",
													"    if (body.sites[i].name == data.SITE_A_NAME) {\r",
													"        postman.setEnvironmentVariable('SITE_A_ID', body.sites[i].id);\r",
													"    }\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/mso/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"mso",
												"api",
												"v1",
												"sites"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Schema ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.schemas.length; i++) {\r",
													"    if (body.schemas[i].displayName == data.SCHEMA) {\r",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);\r",
													"    }\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - Add EPG in DPC links in Site A",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_A_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"dpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/paths-{{NODE_ID}}/pathep-[{{DPC}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Site B",
							"item": [
								{
									"name": "MSO login",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var data = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"token\", data.token)\r",
													"    ;"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"username\": \"{{MSO_USERNAME}}\",\r\n    \"password\": \"{{MSO_PASSWORD}}\",\r\n    \"domaodId\": \"\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/auth/login",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"auth",
												"login"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Site B ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.sites.length; i++) {\r",
													"    if (body.sites[i].name == data.SITE_B_NAME) {\r",
													"        postman.setEnvironmentVariable('SITE_B_ID', body.sites[i].id);\r",
													"    }\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "https://{{MSO_IP}}/mso/api/v1/sites",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"mso",
												"api",
												"v1",
												"sites"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - GET Schema ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var body = JSON.parse(responseBody);\r",
													"for (var i = 0; i < body.schemas.length; i++) {\r",
													"    if (body.schemas[i].displayName == data.SCHEMA) {\r",
													"        postman.setEnvironmentVariable('SCHEMA_ID', body.schemas[i].id);\r",
													"    }\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas"
											]
										}
									},
									"response": []
								},
								{
									"name": "MSO - Add EPG in DPC links in Site B",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PATCH",
										"header": [
											{
												"key": "Authorization",
												"type": "text",
												"value": "Bearer {{token}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\n    {\n        \"op\": \"add\",\n        \"path\": \"/sites/{{SITE_B_ID}}-{{TEMPLATE}}/anps/{{APP_PROF_NAME}}/epgs/{{EPG_NAME}}/staticPorts/-\",\n        \"value\": {\n            \"type\": \"dpc\",\n            \"deploymentImmediacy\": \"immediate\",\n            \"mode\": \"{{MODE}}\",\n            \"path\": \"topology/pod-{{POD_ID}}/paths-{{NODE_ID}}/pathep-[{{DPC}}]\",\n            \"portEncapVlan\": {{VLAN_ID}}\n        }\n    }\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{MSO_IP}}/api/v1/schemas/{{SCHEMA_ID}}",
											"protocol": "https",
											"host": [
												"{{MSO_IP}}"
											],
											"path": [
												"api",
												"v1",
												"schemas",
												"{{SCHEMA_ID}}"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		}
	]
}